# 🏫 System Architecture Diagram

## 🔄 **Main System Flow**

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              USER INTERFACE LAYER                               │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │   Login     │    │  Register   │    │  Dashboard  │    │  Settings   │     │
│  │   Page      │    │   Page      │    │   Pages     │    │   Page      │     │
│  └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘     │
│         │                   │                   │                   │         │
│         ▼                   ▼                   ▼                   ▼         │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │  Email      │    │  Email      │    │  Role-based │    │  System     │     │
│  │  Verify     │    │  Send       │    │  Components │    │  Config     │     │
│  │  Page       │    │  Service    │    │             │    │             │     │
│  └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘     │
└─────────────────────────────────────────────────────────────────────────────────┘
                                │
                                ▼ HTTP/HTTPS Requests
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              API GATEWAY LAYER                                  │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │   Auth      │    │   Users     │    │  Courses    │    │  Classes    │     │
│  │  Routes     │    │  Routes     │    │  Routes     │    │  Routes     │     │
│  └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘     │
│         │                   │                   │                   │         │
│         ▼                   ▼                   ▼                   ▼         │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │  Fees       │    │  Payments   │    │  Upskill    │    │  Calendar   │     │
│  │  Routes     │    │  Routes     │    │  Routes     │    │  Routes     │     │
│  └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘     │
└─────────────────────────────────────────────────────────────────────────────────┘
                                │
                                ▼ Business Logic
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              SERVICE LAYER                                      │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │  Email      │    │  Payment    │    │  File       │    │  Validation │     │
│  │  Service    │    │  Processing │    │  Upload     │    │  Service    │     │
│  └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘     │
│         │                   │                   │                   │         │
│         ▼                   ▼                   ▼                   ▼         │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │  JWT        │    │  Password   │    │  Data       │    │  Error      │     │
│  │  Service    │    │  Hashing    │    │  Processing │    │  Handling   │     │
│  └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘     │
└─────────────────────────────────────────────────────────────────────────────────┘
                                │
                                ▼ Database Operations
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              DATA LAYER                                         │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │   Users     │    │  Courses    │    │  Classes    │    │  Fees       │     │
│  │ Collection  │    │ Collection  │    │ Collection  │    │ Collection  │     │
│  └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘     │
│         │                   │                   │                   │         │
│         ▼                   ▼                   ▼                   ▼         │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │  Payments   │    │  Upskills   │    │  Calendar   │    │  Exam       │     │
│  │ Collection  │    │ Collection  │    │ Collection  │    │ Results     │     │
│  └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘     │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## 👥 **User Role Flow**

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              USER AUTHENTICATION                                │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │   Public    │    │  Register   │    │  Email      │    │   Login     │     │
│  │   Access    │───▶│   Form      │───▶│  Verify     │───▶│   Form      │     │
│  └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘     │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
                                │
                                ▼ Role Assignment
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              ROLE-BASED ACCESS                                  │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐                        │
│  │   Student   │    │   Teacher   │    │    Admin    │                        │
│  │  Dashboard  │    │  Dashboard  │    │  Dashboard  │                        │
│  └─────────────┘    └─────────────┘    └─────────────┘                        │
│         │                   │                   │                              │
│         ▼                   ▼                   ▼                              │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐                        │
│  │ • View      │    │ • Manage    │    │ • System    │                        │
│  │   Courses   │    │   Classes   │    │   Admin     │                        │
│  │ • Check     │    │ • Create    │    │ • User      │                        │
│  │   Fees      │    │   Results   │    │   Mgmt      │                        │
│  │ • View      │    │ • Manage    │    │ • Course    │                        │
│  │   Results   │    │   Students  │    │   Mgmt      │                        │
│  └─────────────┘    └─────────────┘    └─────────────┘                        │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## 🔄 **Data Flow Examples**

### **Registration Flow**
```
User Input → Frontend Validation → API Call → Backend Validation → Database Save → Email Service → Success Response
```

### **Login Flow**
```
User Credentials → Frontend → API Call → Password Verification → JWT Generation → Token Storage → Dashboard Access
```

### **Dashboard Data Flow**
```
User Request → JWT Verification → Role Check → Database Query → Data Processing → API Response → UI Update
```

## 🔧 **Key Technologies Connection**

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   React     │◀──▶│  Express    │◀──▶│  MongoDB    │◀──▶│  Nodemailer │
│  Frontend   │    │  Backend    │    │  Database   │    │  Email      │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
       │                   │                   │                   │
       ▼                   ▼                   ▼                   ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  TypeScript │    │  JWT Auth   │    │  Mongoose   │    │  SMTP       │
│  Type Safety│    │  Security   │    │  ODM        │    │  Protocol   │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
```

## 📊 **Database Relationships**

```
Users (1) ──── (Many) Classes
Users (1) ──── (Many) ExamResults
Users (1) ──── (Many) Fees
Users (1) ──── (Many) Payments
Courses (1) ──── (Many) Classes
Fees (1) ──── (Many) Payments
```

This diagram shows the complete system architecture with all major components and their interactions! 